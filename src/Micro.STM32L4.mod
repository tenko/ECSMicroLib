MODULE STM32L4 IN Micro;

	(*
		Alexander Shiryaev, 2015.02, 2015.07, 2016.10, 2017.10, 2018.05, 2021.08
        Modified by Tenko for use with ECS

        RM0394, Reference manual,
            STM32L41xxx/42xxx/43xxx/44xxx/45xxx/46xxx

        RM0351, Reference manual,
            STM32L47xxx, STM32L48xxx, STM32L49xxx and STM32L4Axxx
	*)
    IMPORT SYSTEM;

    TYPE ADDRESS = SYSTEM.ADDRESS;

    CONST
		(* memory map *)
			BootStart* = ADDRESS(0H);
			FlashStart* = ADDRESS(8000000H);
			SystemMemory* = ADDRESS(1FFF0000H); (* 28 KiB *)
			OTPArea* = ADDRESS(1FFF7000H); (* 1 KiB *)
			(* device electronic signature *)
				(* Unique device ID register (96 bits) *)
					UID* = ADDRESS(1FFF7590H); (* 12 B *)
						UID0* = ADDRESS(UID + 0);
						UID1* = ADDRESS(UID0 + 4);
						UID2* =ADDRESS( UID1 + 4);
				(* Flash size, in KiB *)
					FlashSizeKiBAdr* = ADDRESS(1FFF75E0H); (* 2 B *)
			OptionBytes* = ADDRESS(1FFF7800H); (* 16 B *)
			(* APB1 *)
				TIM2* = ADDRESS(40000000H);
					TIM2CR1*    = ADDRESS(TIM2 + 0);
					TIM2CR2*    = ADDRESS(TIM2 + 4);
					TIM2SMCR*   = ADDRESS(TIM2 + 8);
					TIM2DIER*   = ADDRESS(TIM2 + 0CH);
					TIM2SR*     = ADDRESS(TIM2 + 10H);
					TIM2EGR*    = ADDRESS(TIM2 + 14H);
					TIM2CCMR1*  = ADDRESS(TIM2 + 18H);
					TIM2CCMR2*  = ADDRESS(TIM2 + 1CH);
					TIM2CCER*   = ADDRESS(TIM2 + 20H);
					TIM2CNT*    = ADDRESS(TIM2 + 24H);
					TIM2PSC*    = ADDRESS(TIM2 + 28H);
					TIM2ARR*    = ADDRESS(TIM2 + 2CH);
					TIM2CCR1*   = ADDRESS(TIM2 + 34H);
					TIM2CCR2*   = ADDRESS(TIM2 + 38H);
					TIM2CCR3*   = ADDRESS(TIM2 + 3CH);
					TIM2CCR4*   = ADDRESS(TIM2 + 40H);
					TIM2DCR*    = ADDRESS(TIM2 + 48H);
					TIM2DMAR*   = ADDRESS(TIM2 + 4CH);
					TIM2OR1*    = ADDRESS(TIM2 + 50H);
					TIM2OR2*    = ADDRESS(TIM2 + 60H);
                TIM3* = ADDRESS(40000400H);
					TIM3CR1*    = ADDRESS(TIM3 + 0);
					TIM3CR2*    = ADDRESS(TIM3 + 4);
					TIM3SMCR*   = ADDRESS(TIM3 + 8);
					TIM3DIER*   = ADDRESS(TIM3 + 0CH);
					TIM3SR*     = ADDRESS(TIM3 + 10H);
					TIM3EGR*    = ADDRESS(TIM3 + 14H);
					TIM3CCMR1*  = ADDRESS(TIM3 + 18H);
					TIM3CCMR2*  = ADDRESS(TIM3 + 1CH);
					TIM3CCER*   = ADDRESS(TIM3 + 20H);
					TIM3CNT*    = ADDRESS(TIM3 + 24H);
					TIM3PSC*    = ADDRESS(TIM3 + 28H);
					TIM3ARR*    = ADDRESS(TIM3 + 2CH);
					TIM3CCR1*   = ADDRESS(TIM3 + 34H);
					TIM3CCR2*   = ADDRESS(TIM3 + 38H);
					TIM3CCR3*   = ADDRESS(TIM3 + 3CH);
					TIM3CCR4*   = ADDRESS(TIM3 + 40H);
					TIM3DCR*    = ADDRESS(TIM3 + 48H);
					TIM3DMAR*   = ADDRESS(TIM3 + 4CH);
                    TIM3OR1*    = ADDRESS(TIM3 + 50H);
					TIM3OR2*    = ADDRESS(TIM3 + 60H);
                TIM6* = ADDRESS(40001000H);
					TIM6CR1*    = ADDRESS(TIM6 + 0);
					TIM6CR2*    = ADDRESS(TIM6 + 4);
					TIM6DIER*   = ADDRESS(TIM6 + 0CH);
					TIM6SR*     = ADDRESS(TIM6 + 10H);
					TIM6EGR*    = ADDRESS(TIM6 + 14H);
					TIM6CNT*    = ADDRESS(TIM6 + 24H);
					TIM6PSC*    = ADDRESS(TIM6 + 28H);
					TIM6ARR*    = ADDRESS(TIM6 + 2CH);
                TIM7* = ADDRESS(40001400H);
					TIM7CR1*    = ADDRESS(TIM7 + 0);
					TIM7CR2*    = ADDRESS(TIM7 + 4);
					TIM7DIER*   = ADDRESS(TIM7 + 0CH);
					TIM7SR*     = ADDRESS(TIM7 + 10H);
					TIM7EGR*    = ADDRESS(TIM7 + 14H);
					TIM7CNT*    = ADDRESS(TIM7 + 24H);
					TIM7PSC*    = ADDRESS(TIM7 + 28H);
					TIM7ARR*    = ADDRESS(TIM7 + 2CH);
                LCD* = ADDRESS(40002400H);
                RTCBKPRegisters* = ADDRESS(40002850H);
                WWDG* = ADDRESS(40002C00H);
					WWDGCR*     = ADDRESS(WWDG + 0);
					WWDGCFR*    = ADDRESS(WWDG + 4);
					WWDGSR*     = ADDRESS(WWDG + 8);
				IWDG* = ADDRESS(40003000H);
					IWDGKR*     = ADDRESS(IWDG + 0);
					IWDGPR*     = ADDRESS(IWDG + 4);
					IWDGRLR*    = ADDRESS(IWDG + 8);
					IWDGSR*     = ADDRESS(IWDG + 0CH);
					IWDWINR*    = ADDRESS(IWDG + 10H);
                SPI2* = ADDRESS(40003800H); I2S2* = SPI2;
					SPI2CR1*    = ADDRESS(SPI2 + 0);
					SPI2CR2*    = ADDRESS(SPI2 + 4);
					SPI2SR*     = ADDRESS(SPI2 + 8);
					SPI2DR*     = ADDRESS(SPI2 + 0CH);
					SPI2CRCPR*  = ADDRESS(SPI2 + 10H);
					SPI2RXCRCR* = ADDRESS(SPI2 + 14H);
					SPI2TXCRCR* = ADDRESS(SPI2 + 18H);
					SPI2I2SCFGR*= ADDRESS(SPI2 + 1CH);
					SPI2I2SPR*  = ADDRESS(SPI2 + 20H);
				SPI3* = ADDRESS(40003C00H); I2S3* = SPI3;
					SPI3CR1*    = ADDRESS(SPI3 + 0);
					SPI3CR2*    = ADDRESS(SPI3 + 4);
					SPI3SR*     = ADDRESS(SPI3 + 8);
					SPI3DR*     = ADDRESS(SPI3 + 0CH);
					SPI3CRCPR*  = ADDRESS(SPI3 + 10H);
					SPI3RXCRCR* = ADDRESS(SPI3 + 14H);
					SPI3TXCRCR* = ADDRESS(SPI3 + 18H);
					SPI3I2SCFGR*= ADDRESS(SPI3 + 1CH);
					SPI3I2SPR*  = ADDRESS(SPI3 + 20H);
                USART2* = ADDRESS(40004400H);
					USART2CR1*  = ADDRESS(USART2 + 0);
					USART2CR2*  = ADDRESS(USART2 + 4);
					USART2CR3*  = ADDRESS(USART2 + 8);
					USART2BRR*  = ADDRESS(USART2 + 0CH);
					USART2GTPR* = ADDRESS(USART2 + 10H);
					USART2RTOR* = ADDRESS(USART2 + 14H);
					USART2RQR*  = ADDRESS(USART2 + 18H);
                    USART2ISR*  = ADDRESS(USART2 + 1CH);
                    USART2ICR*  = ADDRESS(USART2 + 20H);
                    USART2RDR*  = ADDRESS(USART2 + 24H);
                    USART2TDR*  = ADDRESS(USART2 + 28H);
				USART3* = ADDRESS(40004800H);
					USART3CR1*  = ADDRESS(USART3 + 0);
					USART3CR2*  = ADDRESS(USART3 + 4);
					USART3CR3*  = ADDRESS(USART3 + 8);
					USART3BRR*  = ADDRESS(USART3 + 0CH);
					USART3GTPR* = ADDRESS(USART3 + 10H);
					USART3RTOR* = ADDRESS(USART3 + 14H);
					USART3RQR*  = ADDRESS(USART3 + 18H);
                    USART3ISR*  = ADDRESS(USART3 + 1CH);
                    USART3ICR*  = ADDRESS(USART3 + 20H);
                    USART3RDR*  = ADDRESS(USART3 + 24H);
                    USART3TDR*  = ADDRESS(USART3 + 28H);
                UART4* = ADDRESS(40004C00H);
					UART4CR1*  = ADDRESS(UART4 + 0);
					UART4CR2*  = ADDRESS(UART4 + 4);
					UART4CR3*  = ADDRESS(UART4 + 8);
					UART4BRR*  = ADDRESS(UART4 + 0CH);
					UART4GTPR* = ADDRESS(UART4 + 10H);
					UART4RTOR* = ADDRESS(UART4 + 14H);
					UART4RQR*  = ADDRESS(UART4 + 18H);
                    UART4ISR*  = ADDRESS(UART4 + 1CH);
                    UART4ICR*  = ADDRESS(UART4 + 20H);
                    UART4RDR*  = ADDRESS(UART4 + 24H);
                    UART4TDR*  = ADDRESS(UART4 + 28H);
                I2C1* = ADDRESS(40005400H);
					I2C1CR1*        = ADDRESS(I2C1 + 0);
					I2C1CR2*        = ADDRESS(I2C1 + 4);
					I2C1OAR1*       = ADDRESS(I2C1 + 8);
					I2C1OAR2*       = ADDRESS(I2C1 + 0CH);
					I2C1TIMINGR*    = ADDRESS(I2C1 + 10H);
					I2C1TIMEOUTR*   = ADDRESS(I2C1 + 14H);
					I2C1ISR*        = ADDRESS(I2C1 + 18H);
					I2C1ICR*        = ADDRESS(I2C1 + 1CH);
					I2C1PECR*       = ADDRESS(I2C1 + 20H);
					I2C1RXDR*       = ADDRESS(I2C1 + 24H);
                    I2C1TXDR*       = ADDRESS(I2C1 + 28H);
                I2C2* = ADDRESS(40005800H);
					I2C2CR1*        = ADDRESS(I2C2 + 0);
					I2C2CR2*        = ADDRESS(I2C2 + 4);
					I2C2OAR1*       = ADDRESS(I2C2 + 8);
					I2C2OAR2*       = ADDRESS(I2C2 + 0CH);
					I2C2TIMINGR*    = ADDRESS(I2C2 + 10H);
					I2C2TIMEOUTR*   = ADDRESS(I2C2 + 14H);
					I2C2ISR*        = ADDRESS(I2C2 + 18H);
					I2C2ICR*        = ADDRESS(I2C2 + 1CH);
					I2C2PECR*       = ADDRESS(I2C2 + 20H);
					I2C2RXDR*       = ADDRESS(I2C2 + 24H);
                    I2C2TXDR*       = ADDRESS(I2C2 + 28H);
				I2C3* = ADDRESS(40005C00H);
					I2C3CR1*        = ADDRESS(I2C3 + 0);
					I2C3CR2*        = ADDRESS(I2C3 + 4);
					I2C3OAR1*       = ADDRESS(I2C3 + 8);
					I2C3OAR2*       = ADDRESS(I2C3 + 0CH);
					I2C3TIMINGR*    = ADDRESS(I2C3 + 10H);
					I2C3TIMEOUTR*   = ADDRESS(I2C3 + 14H);
					I2C3ISR*        = ADDRESS(I2C3 + 18H);
					I2C3ICR*        = ADDRESS(I2C3 + 1CH);
					I2C3PECR*       = ADDRESS(I2C3 + 20H);
					I2C3RXDR*       = ADDRESS(I2C3 + 24H);
                    I2C3TXDR*       = ADDRESS(I2C3 + 28H);
                CRS* = ADDRESS(40006000H);
                    CRSCR*      = (CRS + 0);
                    CRSCFGR*    = (CRS + 4);
                    CRSISR*     = (CRS + 8);
                    CRSICR*     = (CRS + 0CH);
                CAN1* = ADDRESS(40006400H);
                USBOTGFS* = ADDRESS(40006400H);
                USBOTGSRAM* = ADDRESS(40006C00H);
                PWR* = ADDRESS(40007000H);
					PWRCR1*     = ADDRESS(PWR + 0);
					PWRCR2*     = ADDRESS(PWR + 4);
                	PWRCR3*     = ADDRESS(PWR + 8);
                	PWRCR4*     = ADDRESS(PWR + 0CH);
                	PWRSR1*     = ADDRESS(PWR + 10H);
                	PWRSR2*     = ADDRESS(PWR + 14H);
                	PWRSCR*     = ADDRESS(PWR + 18H);
                	PWRPUCRA*   = ADDRESS(PWR + 20H);
                	PWRPDCRA*   = ADDRESS(PWR + 24H);
                	PWRPUCRB*   = ADDRESS(PWR + 28H);
                	PWRPDCRB*   = ADDRESS(PWR + 2CH);
                	PWRPUCRC*   = ADDRESS(PWR + 30H);
                	PWRPDCRC*   = ADDRESS(PWR + 34H);
                	PWRPUCRD*   = ADDRESS(PWR + 38H);
                	PWRPUCRE*   = ADDRESS(PWR + 40H);
                	PWRPDCRE*   = ADDRESS(PWR + 44H);
                    PWRPUCRH*   = ADDRESS(PWR + 58H);
                    PWRPDCRH*   = ADDRESS(PWR + 5CH);
                DAC1* = ADDRESS(40007400H);
					DAC1CR*      = ADDRESS(DAC1 + 0);
					DAC1SWTRIGR* = ADDRESS(DAC1 + 4);
					DAC1DHR12R1* = ADDRESS(DAC1 + 8);
					DAC1DHR12L1* = ADDRESS(DAC1 + 0CH);
					DAC1DHR8R1*  = ADDRESS(DAC1 + 10H);
					DAC1DHR12R2* = ADDRESS(DAC1 + 14H);
					DAC1DHR12L2* = ADDRESS(DAC1 + 18H);
					DAC1DHR8R2*  = ADDRESS(DAC1 + 1CH);
					DAC1DHR12RD* = ADDRESS(DAC1 + 20H);
					DAC1DHR12LD* = ADDRESS(DAC1 + 24H);
					DAC1DHR8RD*  = ADDRESS(DAC1 + 28H);
					DAC1DOR1*    = ADDRESS(DAC1 + 2CH);
					DAC1DOR2*    = ADDRESS(DAC1 + 30H);
					DAC1SR*      = ADDRESS(DAC1 + 34H);
                    DAC1CCR*     = ADDRESS(DAC1 + 38H);
                    DAC1MCR*     = ADDRESS(DAC1 + 3CH);
                    DAC1SHSR1*   = ADDRESS(DAC1 + 40H);
                    DAC1SHSR2*   = ADDRESS(DAC1 + 44H);
                    DAC1SHHR*    = ADDRESS(DAC1 + 48H);
                    DAC1SHRR*    = ADDRESS(DAC1 + 4CH);
                OPAMP* = ADDRESS(40007800H);
                    OPAMPCSR*    = ADDRESS(OPAMP + 0);
                    OPAMPOTR*    = ADDRESS(OPAMP + 4);
                    OPAMPLTOTR*  = ADDRESS(OPAMP + 8);
                LPTIM1* = ADDRESS(40007C00H);
                    LPTIM1ISR*      = ADDRESS(LPTIM1 + 0);
					LPTIM1ICR*      = ADDRESS(LPTIM1 + 4);
					LPTIM1IER*      = ADDRESS(LPTIM1 + 8);
					LPTIM1FGR*      = ADDRESS(LPTIM1 + 0CH);
					LPTIM1CR*       = ADDRESS(LPTIM1 + 10H);
					LPTIM1CMP*      = ADDRESS(LPTIM1 + 14H);
					LPTIM1ARR*      = ADDRESS(LPTIM1 + 18H);
					LPTIM1CNT*      = ADDRESS(LPTIM1 + 1CH);
					LPTIM1OR*       = ADDRESS(LPTIM1 + 20H);
					LPTIM1CFGR2*    = ADDRESS(LPTIM1 + 24H);
                    LPTIM1RCR*      = ADDRESS(LPTIM1 + 28H);
                LPUART1* = ADDRESS(40008000H);
                    LPUART1CR1*  = ADDRESS(LPUART1 + 0);
					LPUART1CR2*  = ADDRESS(LPUART1 + 4);
					LPUART1CR3*  = ADDRESS(LPUART1 + 8);
					LPUART1BRR*  = ADDRESS(LPUART1 + 0CH);
					LPUART1GTPR* = ADDRESS(LPUART1 + 10H);
					LPUART1RQR*  = ADDRESS(LPUART1 + 18H);
                    LPUART1ISR*  = ADDRESS(LPUART1 + 1CH);
                    LPUART1ICR*  = ADDRESS(LPUART1 + 20H);
                    LPUART1RDR*  = ADDRESS(LPUART1 + 24H);
                    LPUART1TDR*  = ADDRESS(LPUART1 + 28H);
                I2C4* = ADDRESS(40008400H);
					I2C4CR1*        = ADDRESS(I2C4 + 0);
					I2C4CR2*        = ADDRESS(I2C4 + 4);
					I2C4OAR1*       = ADDRESS(I2C4 + 8);
					I2C4OAR2*       = ADDRESS(I2C4 + 0CH);
					I2C4TIMINGR*    = ADDRESS(I2C4 + 10H);
					I2C4TIMEOUTR*   = ADDRESS(I2C4 + 14H);
					I2C4ISR*        = ADDRESS(I2C4 + 18H);
					I2C4ICR*        = ADDRESS(I2C4 + 1CH);
					I2C4PECR*       = ADDRESS(I2C4 + 20H);
					I2C4RXDR*       = ADDRESS(I2C4 + 24H);
                    I2C4TXDR*       = ADDRESS(I2C4 + 28H);
                SWPMI1* = ADDRESS(40008800H);
                LPTIM2* = ADDRESS(40009400H);
                    LPTIM2ISR*      = ADDRESS(LPTIM2 + 0);
					LPTIM2ICR*      = ADDRESS(LPTIM2 + 4);
					LPTIM2IER*      = ADDRESS(LPTIM2 + 8);
					LPTIMCFGR*      = ADDRESS(LPTIM2 + 0CH);
					LPTIM2CR*       = ADDRESS(LPTIM2 + 10H);
					LPTIM2CMP*      = ADDRESS(LPTIM2 + 14H);
					LPTIM2ARR*      = ADDRESS(LPTIM2 + 18H);
					LPTIM2CNT*      = ADDRESS(LPTIM2 + 1CH);
					LPTIM2OR*       = ADDRESS(LPTIM2 + 20H);
					LPTIM2CFGR2*    = ADDRESS(LPTIM2 + 24H);
                    LPTIM2RCR*      = ADDRESS(LPTIM2 + 28H);
            (* APB2 *)
                SYSCFG* = ADDRESS(40010000H);
					SYSCFGMEMRMP*   = ADDRESS(SYSCFG + 0);
					SYSCFCFGR1*     = ADDRESS(SYSCFG + 4);
					SYSCFGEXTICR1*  = ADDRESS(SYSCFG + 8);
					SYSCFGEXTICR2*  = ADDRESS(SYSCFG + 0CH);
					SYSCFGEXTICR3*  = ADDRESS(SYSCFG + 10H);
					SYSCFGEXTICR4*  = ADDRESS(SYSCFG + 14H);
					SYSCFGSCSR*     = ADDRESS(SYSCFG + 18H);
					SYSCFGCFGR2*    = ADDRESS(SYSCFG + 1CH);
                    SYSCFGSWPR*     = ADDRESS(SYSCFG + 20H);
                    SYSCFGSKR*      = ADDRESS(SYSCFG + 24H);
                VREFBUF* = ADDRESS(40010030H);
                	VREFBUFCSR* = ADDRESS(VREFBUF + 0);
                    VREFBUFCCR* = ADDRESS(VREFBUF + 4);
                COMP* = ADDRESS(40010200H);
                	COMP1CSR*   = ADDRESS(COMP + 0);
                    COMP2CSR*   = ADDRESS(COMP + 0);
                EXTI* = ADDRESS(40010400H);
					EXTIIMR*    = ADDRESS(EXTI + 0);
					EXTIEMR*    = ADDRESS(EXTI + 4);
					EXTIRTSR*   = ADDRESS(EXTI + 8);
					EXTIFTSR*   = ADDRESS(EXTI + 0CH);
					EXTISWIER*  = ADDRESS(EXTI + 10H);
					EXTIPR*     = ADDRESS(EXTI + 14H);
                FIREWALL* = ADDRESS(40011C00H);
                SDMMC* = ADDRESS(40012800H);
                TIM1* = ADDRESS(40012C00H);
					TIM1CR1*    = ADDRESS(TIM1 + 0);
					TIM1CR2*    = ADDRESS(TIM1 + 4);
					TIM1SMCR*   = ADDRESS(TIM1 + 8);
					TIM1DIER*   = ADDRESS(TIM1 + 0CH);
					TIM1SR*     = ADDRESS(TIM1 + 10H);
					TIM1EGR*    = ADDRESS(TIM1 + 14H);
					TIM1CCMR1*  = ADDRESS(TIM1 + 18H);
					TIM1CCMR2*  = ADDRESS(TIM1 + 1CH);
					TIM1CCER*   = ADDRESS(TIM1 + 20H);
					TIM1CNT*    = ADDRESS(TIM1 + 24H);
					TIM1PSC*    = ADDRESS(TIM1 + 28H);
					TIM1ARR*    = ADDRESS(TIM1 + 2CH);
					TIM1RCR*    = ADDRESS(TIM1 + 30H);
					TIM1CCR1*   = ADDRESS(TIM1 + 34H);
					TIM1CCR2*   = ADDRESS(TIM1 + 38H);
					TIM1CCR3*   = ADDRESS(TIM1 + 3CH);
					TIM1CCR4*   = ADDRESS(TIM1 + 40H);
					TIM1BDTR*   = ADDRESS(TIM1 + 44H);
					TIM1DCR*    = ADDRESS(TIM1 + 48H);
					TIM1DMAR*   = ADDRESS(TIM1 + 4CH);
                    TIM1OR1*    = ADDRESS(TIM1 + 50H);
                    TIM1CCMR3*  = ADDRESS(TIM1 + 54H);
                    TIM1CCR5*   = ADDRESS(TIM1 + 58H);
                    TIM1CCR6*   = ADDRESS(TIM1 + 5CH);
                    TIM1OR2*    = ADDRESS(TIM1 + 60H);
                    TIM1OR3*    = ADDRESS(TIM1 + 64H);
                SPI1* = ADDRESS(40013000H); I2S1* = SPI1;
					SPI1CR1*    = ADDRESS(SPI1 + 0);
					SPI1CR2*    = ADDRESS(SPI1 + 4);
					SPI1SR*     = ADDRESS(SPI1 + 8);
					SPI1DR*     = ADDRESS(SPI1 + 0CH);
					SPI1CRCPR*  = ADDRESS(SPI1 + 10H);
					SPI1RXCRCR* = ADDRESS(SPI1 + 14H);
					SPI1TXCRCR* = ADDRESS(SPI1 + 18H);
					SPI1I2SCFGR*= ADDRESS(SPI1 + 1CH);
					SPI1I2SPR*  = ADDRESS(SPI1 + 20H);
                USART1* = ADDRESS(40013800H);
					USART1SR*   = ADDRESS(USART1 + 0);
					USART1DR*   = ADDRESS(USART1 + 4);
					USART1BRR*  = ADDRESS(USART1 + 8);
					USART1CR1*  = ADDRESS(USART1 + 0CH);
					USART1CR2*  = ADDRESS(USART1 + 10H);
					USART1CR3*  = ADDRESS(USART1 + 14H);
					USART1GTPR* = ADDRESS(USART1 + 18H);
                TIM15* = ADDRESS(40014000H);
					TIM15CR1*   = ADDRESS(TIM15 + 0);
					TIM15SMCR*  = ADDRESS(TIM15 + 8);
					TIM15DIER*  = ADDRESS(TIM15 + 0CH);
					TIM15SR*    = ADDRESS(TIM15 + 10H);
					TIM15EGR*   = ADDRESS(TIM15 + 14H);
					TIM15CCMR1* = ADDRESS(TIM15 + 18H);
					TIM15CCER*  = ADDRESS(TIM15 + 20H);
					TIM15CNT*   = ADDRESS(TIM15 + 24H);
					TIM15PSC*   = ADDRESS(TIM15 + 28H);
					TIM15ARR*   = ADDRESS(TIM15 + 2CH);
					TIM15CCR1*  = ADDRESS(TIM15 + 34H);
					TIM15OR*    = ADDRESS(TIM15 + 50H);
                TIM16* = ADDRESS(40014400H);
					TIM16CR1*   = ADDRESS(TIM16 + 0);
					TIM16SMCR*  = ADDRESS(TIM16 + 8);
					TIM16DIER*  = ADDRESS(TIM16 + 0CH);
					TIM16SR*    = ADDRESS(TIM16 + 10H);
					TIM16EGR*   = ADDRESS(TIM16 + 14H);
					TIM16CCMR1* = ADDRESS(TIM16 + 18H);
					TIM16CCER*  = ADDRESS(TIM16 + 20H);
					TIM16CNT*   = ADDRESS(TIM16 + 24H);
					TIM16PSC*   = ADDRESS(TIM16 + 28H);
					TIM16ARR*   = ADDRESS(TIM16 + 2CH);
					TIM16CCR1*  = ADDRESS(TIM16 + 34H);
					TIM16OR*    = ADDRESS(TIM16 + 50H);
                SAI1* = ADDRESS(40015400H);
                DFSDM1* = ADDRESS(40016000H);
            (* AHB1 *)
                DMA1* = ADDRESS(40020000H);
				DMA2* = ADDRESS(40020400H);
                RCC* = ADDRESS(40021000H);
					RCCCR*          = ADDRESS(RCC + 0);
					RCCICSCR*       = ADDRESS(RCC + 4);
					RCCCFGR*        = ADDRESS(RCC + 8);
					RCCCPLLCFGR*    = ADDRESS(RCC + 0CH);
					RCCPLLSAI1CFGR* = ADDRESS(RCC + 10H);
					RCCCIER*        = ADDRESS(RCC + 18H);
                    RCCCIFR*        = ADDRESS(RCC + 1CH);
                    RCCCICR*        = ADDRESS(RCC + 20H);
					RCCAHB1RSTR*    = ADDRESS(RCC + 28H);
					RCCAHB2RSTR*    = ADDRESS(RCC + 2CH);
					RCCAHB3RSTR*    = ADDRESS(RCC + 30H);
					RCCAPB1RSTR1*   = ADDRESS(RCC + 38H);
                    RCCAPB1RSTR2*   = ADDRESS(RCC + 3CH);
                    RCCAPB2RSTR*    = ADDRESS(RCC + 40H);
					RCCAHB1ENR*     = ADDRESS(RCC + 48H);
                    RCCAHB2ENR*     = ADDRESS(RCC + 4CH);
					RCCAHB3ENR*     = ADDRESS(RCC + 50H);
					RCCAPB1ENR1*    = ADDRESS(RCC + 58H);
					RCCAPB1ENR2*    = ADDRESS(RCC + 5CH);
					RCCAPB2ENR*     = ADDRESS(RCC + 60H);
					RCCAHB1SMENR*   = ADDRESS(RCC + 68H);
                    RCCAHB2SMENR*   = ADDRESS(RCC + 6CH);
					RCCAHB3SMENR*   = ADDRESS(RCC + 70H);
					RCCAPB1SMENR1*  = ADDRESS(RCC + 78H);
					RCCAPB1SMENR2*  = ADDRESS(RCC + 80H);
					RCCCCIPR*       = ADDRESS(RCC + 88H);
					RCCBDCR*        = ADDRESS(RCC + 90H);
					RCCCSR*         = ADDRESS(RCC + 94H);
					RCCCRRCR*       = ADDRESS(RCC + 98H);
					RCCCCIPR2*      = ADDRESS(RCC + 9CH);
                FlashInterface* = ADDRESS(40022000H); (* Flash interface register *)
					FLASHACR*       = ADDRESS(FlashInterface + 0);
					FLASHPDKEYR*    = ADDRESS(FlashInterface + 4);
					FLASHKEYR*      = ADDRESS(FlashInterface + 8);
					FLASHOPTKEYR*   = ADDRESS(FlashInterface + 0CH);
					FLASHSR*        = ADDRESS(FlashInterface + 10H);
					FLASHCR*        = ADDRESS(FlashInterface + 14H);
					FLASHECCR*      = ADDRESS(FlashInterface + 18H);
					FLASHOPTR*      = ADDRESS(FlashInterface + 20H);
					FLASHPCROP1SR*  = ADDRESS(FlashInterface + 24H);
					FLASHPCROP1ER*  = ADDRESS(FlashInterface + 28H);
					FLASHWRP1AR*    = ADDRESS(FlashInterface + 2CH);
					FLASHWRP1BR*    = ADDRESS(FlashInterface + 30H);
                CRC* = ADDRESS(40023000H);
					CRCDR*     = ADDRESS(CRC + 0);
					CRCIDR*    = ADDRESS(CRC + 4);
					CRCCR*     = ADDRESS(CRC + 8);
					CRCINIT*   = ADDRESS(CRC + 10H);
					CRCPOL*    = ADDRESS(CRC + 14H);
                TSC* = ADDRESS(40024000H);
            (* AHB2 *)
				GPIOA* = ADDRESS(48000000H);
					GPIOAMODER*     = ADDRESS(GPIOA + 0);
					GPIOAOTYPER*    = ADDRESS(GPIOA + 4);
					GPIOAOSPEEDR*   = ADDRESS(GPIOA + 8);
					GPIOAPUPDR*     = ADDRESS(GPIOA + 0CH);
					GPIOAIDR*       = ADDRESS(GPIOA + 10H);
					GPIOAODR*       = ADDRESS(GPIOA + 14H);
					GPIOABSRR*      = ADDRESS(GPIOA + 18H);
					GPIOALCKR*      = ADDRESS(GPIOA + 1CH);
					GPIOAAFRL*      = ADDRESS(GPIOA + 20H);
					GPIOAAFRH*      = ADDRESS(GPIOA + 24H);
                GPIOB* = ADDRESS(48000400H);
					GPIOBMODER*     = ADDRESS(GPIOB + 0);
					GPIOBOTYPER*    = ADDRESS(GPIOB + 4);
					GPIOBOSPEEDR*   = ADDRESS(GPIOB + 8);
					GPIOBPUPDR*     = ADDRESS(GPIOB + 0CH);
					GPIOBIDR*       = ADDRESS(GPIOB + 10H);
					GPIOBODR*       = ADDRESS(GPIOB + 14H);
					GPIOBBSRR*      = ADDRESS(GPIOB + 18H);
					GPIOBLCKR*      = ADDRESS(GPIOB + 1CH);
					GPIOBAFRL*      = ADDRESS(GPIOB + 20H);
					GPIOBAFRH*      = ADDRESS(GPIOB + 24H);
                GPIOC* = ADDRESS(48000800H);
					GPIOCMODER*     = ADDRESS(GPIOC + 0);
					GPIOCOTYPER*    = ADDRESS(GPIOC + 4);
					GPIOCOSPEEDR*   = ADDRESS(GPIOC + 8);
					GPIOCPUPDR*     = ADDRESS(GPIOC + 0CH);
					GPIOCIDR*       = ADDRESS(GPIOC + 10H);
					GPIOCODR*       = ADDRESS(GPIOC + 14H);
					GPIOCBSRR*      = ADDRESS(GPIOC + 18H);
					GPIOCLCKR*      = ADDRESS(GPIOC + 1CH);
					GPIOCAFRL*      = ADDRESS(GPIOC + 20H);
					GPIOCAFRH*      = ADDRESS(GPIOC + 24H);
                GPIOD* = ADDRESS(48000C00H);
					GPIODMODER*     = ADDRESS(GPIOD + 0);
					GPIODOTYPER*    = ADDRESS(GPIOD + 4);
					GPIODOSPEEDR*   = ADDRESS(GPIOD + 8);
					GPIODPUPDR*     = ADDRESS(GPIOD + 0CH);
					GPIODIDR*       = ADDRESS(GPIOD + 10H);
					GPIODODR*       = ADDRESS(GPIOD + 14H);
					GPIODBSRR*      = ADDRESS(GPIOD + 18H);
					GPIODLCKR*      = ADDRESS(GPIOD + 1CH);
					GPIODAFRL*      = ADDRESS(GPIOD + 20H);
					GPIODAFRH*      = ADDRESS(GPIOD + 24H);
                GPIOE* = ADDRESS(48001000H);
					GPIOEMODER*     = ADDRESS(GPIOE + 0);
					GPIOEOTYPER*    = ADDRESS(GPIOE + 4);
					GPIOEOSPEEDR*   = ADDRESS(GPIOE + 8);
					GPIOEPUPDR*     = ADDRESS(GPIOE + 0CH);
					GPIOEIDR*       = ADDRESS(GPIOE + 10H);
					GPIOEODR*       = ADDRESS(GPIOE + 14H);
					GPIOEBSRR*      = ADDRESS(GPIOE + 18H);
					GPIOELCKR*      = ADDRESS(GPIOE + 1CH);
					GPIOEAFRL*      = ADDRESS(GPIOE + 20H);
					GPIOEAFRH*      = ADDRESS(GPIOE + 24H);
                GPIOH* = ADDRESS(48001C00H);
					GPIOHMODER*     = ADDRESS(GPIOH + 0);
					GPIOHOTYPER*    = ADDRESS(GPIOH + 4);
					GPIOHOSPEEDR*   = ADDRESS(GPIOH + 8);
					GPIOHPUPDR*     = ADDRESS(GPIOH + 0CH);
					GPIOHIDR*       = ADDRESS(GPIOH + 10H);
					GPIOHODR*       = ADDRESS(GPIOH + 14H);
					GPIOHBSRR*      = ADDRESS(GPIOH + 18H);
					GPIOHLCKR*      = ADDRESS(GPIOH + 1CH);
					GPIOHAFRL*      = ADDRESS(GPIOH + 20H);
					GPIOHAFRH*      = ADDRESS(GPIOH + 24H);
                ADC* = ADDRESS(50040000H);
                AES* = ADDRESS(50060000H);
                RNG* = ADDRESS(50060800H);
                	RNGCR*  = ADDRESS(RNG + 0);
                    RNGSR*  = ADDRESS(RNG + 4);
                    RNGDR*  = ADDRESS(RNG + 8);
END STM32L4.
